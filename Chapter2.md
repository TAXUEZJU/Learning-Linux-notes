## Linux精讲

#### 创建和删除目录
* `mkdir`  
参数`-p`可根据需要创建父目录，并且创建已存在目录不报错  
参数`-v`为每个创建的目录打印一条信息
* `rmdir`  
只能删除空目录，可以加参数`-p`删除一串空目录

#### rm命令
删除文件或目录
* 参数`-r`可以删除目录（包含非空目录）
* 参数`-f`表示强制删除，即使目录不存在也不会报错
* 参数`-i`会在执行删除前提示
* 参数`-v`解释每一步骤

#### cp命令
复制，格式为 `cp [选项] [来源文件] [目录文件]`
* 参数`-r`可拷贝目录
* 参数`-i`提示，文件存在会询问是否覆盖  
__cp一个目录时，如果目标目录已存在，<u>源目录会放到目标目录下面</u>，除非目标目录和复制目录同名__

#### mv命令
移动，也可用作重命名，格式 `mv [选项] [源文件] [目标文件]`
* `-i`提示，存在询问是否覆盖  
__需要注意的是，若目标文件为目录且存在，则会把源文件移动到目标目录里__

#### 文件查看命令
* `cat` 查看文件内容并显示  
参数`-n` 能显示行号  
参数`-A` 显示所有，包括特殊字符

* `tac` 与`cat`类似，从最后一行开始显示，直到第一行

* `more` 查看文件内容，当文件内容太多可以按空格键续看下一屏

* `less` 作用与`more`相同，支持上翻，下翻，空格翻页，按`j`向下移动，按`k`向上移动，也可用`Ctrl+b`和`Ctrl+f`实现上翻页和下翻页。  
<u>
注意，`more`和`less`查看时，可以用`/`和`？`加字符串搜索内容，按`n`显示下一个，不同在于前者在当前行向下搜索，后者向上搜索。按`G`快速到文本末端，`g`返回文件首部。
</u>  

* `head` 显示文件前十行，加`-n`则显示文件前__n__行  

* `tail` 显示文件最后十行，参数`-n`作用与`head`相同  
`-f` 动态显示文件最后十行，适用于不断增加的文件
`-F` 与`-f`作用相同，但不会因为删除重建而停止跟踪

#### 文件和目录属性
执行`ls -l`后显示内容分别代表的意义，举例  
`-rw-r--r-- 1 taxue users 4300 Jan  7 13:50 Chapter1.md`  
* 文件类型  
注意第一列第一个字符  
`d` 表示该文件为目录  
`-` 表示为普通文件  
`l` 表示链接文件  
`b` 表示为块设备，比如`/dev/sda`  
`c` 表示为串行端口设备，例如键盘鼠标  
`s` 表示为套接字文件（socket），用于进程间通信

* 文件权限  
第一列后9位，每组三位，分别表示所有者（user），所属群组（group），非本群组（others）的权限  
`r` 为可读  
`w` 为可写  
`x` 为可执行

* 其余几列含义  
第2列，表示链接占用的节点（inode），如果为目录，则数值与目录下有多少一级子目录有关  
第3列，表示该文件的所有者  
第4列，表示该文件的所属组  
第5列，表示该文件的大小  
第6、7、8列为该文件最近的修改日期  
第9列，文件名

#### chmod命令
更改文件权限，每一组用数字表示权限，`r`为4，`w`为2，`x`为1，`-`为0，比如`-rwxrw----`即为760  
* 注意，root用户，默认一个目录权限__755__，文件默认权限__644__
* 语法，`chmod [-R] xyz 文件名`（xyz表示相应数字）
`-R`表示级联更改  
* 语法2，以`u`，`g`，`o`分别表示三组属性，`a`表示全部，`+`，`-`，`=`，以及`r`，`w`，`x`更改权限，举例  
`chmod u=rwx,og=rx test`  
`chmod u+x test`
* `umask`  
可用来更改默认权限，一般用后三位，注意以下两条规则：  
（1）建立普通文件，预设没有可执行，最大权限666  
（2）建立目录，预设开放所有权限，即777  
<u>
`umask`表示上述两条规则默认值需要减去的权限，比如`umask`为022，即----w--w-，则用对应的777（即rwxrwxrwx）减去前面权限，得到rwxr-xr-x(即755)，即为默认权限
</u>
* `umask` 可以在`/etc/bashrc`中更改，预设情况下，root的umask为022，一般使用者为002

#### chown命令  
更改文件的所有者及所属组  
* 语法  
`chown [-R] [账户名] [文件名]`  
`chown [-R] :[组名] [文件名]`  
`chown [-R] [账户名]：[组名] [文件名]`  
注：`：`可用`.`代替，参数`-R`用于级联更改  
* `chgrp`，用于更改所属组，语法`chgrp [组名] [文件名]`，参数`-R`同样可用于级联更改
