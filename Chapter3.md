## Linux提高

#### vim介绍
* _vim_是类_vi_的文本编辑器，可看成是_vi_的加强升级版，最明显的区别就是代码高亮
* CentOS安装_vim_指令为`yum install -y vim-enhanced`
* `vim +n filename`，n是一个数字，会在打开文件的时候将光标定位到第n行，在_vim_中使用`:set nu`可显示行号

#### vim一般模式下光标移动
| 按键 | 作用 |
|:----:|:----|
| h或左方向键 | 光标左移一个字符 |
| l或右方向键 | 光标右移一个字符 |
| k或上方向键 | 光标上移一个字符 |
| j或下方向键 | 光标下移一个字符 |
| Ctrl+f或PageUp | 屏幕前翻一页 |
| Ctrl+b或PageDown | 屏幕后翻一页 |
| 数字0或shift+6 | 移动到本行行首（后者移动到行首第一个非空字符）|
| shift+4 | 移动到本行行尾 |
| gg | 移动到首行 |
| G | 移动到尾行|
| nG（n是数字） | 移动到第n行 |

#### vim一般模式下复制剪切粘贴
| 按键 | 作用 |
|:----: |:---- |
| x,X | x向后删除一个字符，X向前删除一个字符 |
| nx | 向后删除n个字符 |
| dd | 删除/剪切光标所在行 |
| ndd（n为数字） | 删除/剪切光标所在行起向下共n行 |
| yy | 复制光标所在行 |
| nyy | 从光标所在行起向下复制n行 |
| p | 从光标所在行向下粘贴已复制或剪切的内容 |
| P | 从光标所在行向下粘贴已复制或剪切的内容 |
| u | 还原上一步操作（最多还原50步） |
| Ctrl+r | 撤销上一次还原 |
| v | 按v后进入可选模式，选中指定字符后可进行剪切 |
| V | 按行选择 |

#### vim编辑模式
进入编辑模式可修改字符，一般模式下按键（`i`，`I`，`a`，`A`，`o`，`O`，`r`，`R`）即可进入编辑模式  

| 按键 | 作用 |
|:----:|:----|
| i | 在当前字符前插入 |
| I | 在光标所在行行首插入 |
| a | 在当前字符后插入 |
| A | 在当前行行尾插入 |
| o | 在当前行下一行插入新的一行 |
| O | 在当前行上一行插入新的一行 |
| r | 替换光标下的字符（一次性，不会进入编辑模式） |
| R | 用输入的字符替换原有字符 |

#### vim命令行模式
一般模式下输入`:`或`/`即可进入命令模式，该模式下，可以进行搜索，替换，保存，显示行号，退出等

| 按键 | 作用 |
|:----:|:----|
| /word | 向光标后寻找字符串word，按n指向下一个 |
| ?word | 向光标前寻找字符串word，按n指向下一个 |
| :n1,n2s/word1/word2/g | 在n1，n2行之间查找word1并替换为word2，不加g则只替换每行第一个word1 |
| :1,$s/word1/word2/g | 替换文档中所有word1为word2，`1，$`可用`%`代替 |
| :w | 保存 |
| :q | 退出vim |
| :w! | 强制保存，root用户下即使文本只读也可保存 |
| :q! | 强制退出，所有改动不生效 |
| :wq | 保存并退出 |
| :set nonu | 不显示行号 |

#### gzip讲解
* `gzip [-#] filename`用于压缩文件，不保留源文件，__#__是压缩等级，1最差，9最好，默认6，不支持压缩目录，生成压缩文件后缀名`.gz`
* `gzip -d`可以解压压缩文件
* `gunzip`也可以解压，不加参数
* `zcat`可查看`.gz`的文本文件内容

#### bzip2讲解
* `bzip2 [-dz] filename`  
`-d`解压缩  
`-z`压缩，可不加  
* __bzip2__不能压缩目录，压缩不保留源文件  
* `bzcat`可查看`.bz2`的文本文件内容

#### zip和unzip
* `zip filename.zip filename`  
用于压缩文件，先跟压缩后文件名，再跟要压缩的文件名或目录，压缩保留源文件
* `zip -r`  
用于级联压缩，zip默认不压缩二级目录下文件，压缩目录时需要加参数`r`
* `unzip filename.zip`用于解压,参数`-d`可指定解压路径

#### xz压缩和解压缩
* `xz [-dz] filename`  
`-d`解压缩，解压时`-f`可强行覆盖已存在文件  
`-z`压缩，可不加
* xz不能压缩目录，压缩不保留源文件
* `xzcat`查看`.xz`的文本文件内容

#### tar打包工具详解
* 语法`tar [-zjxcvfpP] filename`  
`-z`同时用_gzip_压缩  
`-j`同时用_bzip2_压缩  
`-x`解包或解压缩  
`-t`查看tar包里的文件  
`-c`建立一个tar包或者压缩包  
`-v`可视化  
`-f`后面跟文件名，压缩时`-f filename`意为压缩后的文件名为filename，解压时跟`-f filename`，意为解压filename。如果多参数组合，`-f`需写到最后  
`-p`使用原文件的属性（不常用）  
`-P`可使用绝对路径（不常用）  
`--exclude filename`打包或压缩时，不将filename包括在内（不常用）  
